<div class="row row-content" ng-if="!signupCtrl.getCurrentUser().email">
    <div class="col-xs-12">
        <h1>Sign Up</h1>
        <br/>
    </div>

    <div class="col-xs-12 col-sm-9">
    <form class="form-horizontal" name="signupForm" novalidate>
        <div class="form-group" ng-class="{'has-error': 
                signupForm.first_name.$error.required &&
                !signupForm.first_name.$pristine}">
            <label for="first_name" class="col-sm-2 control-label">First Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="first_name" id="first_name" placeholder="Enter First Name"
                       ng-model="signupCtrl.first_name" required/>
                <span ng-if="signupForm.first_name.$error.required && !signupForm.first_name.$pristine" class="help-block">Your First Name is required</span>
            </div>
        </div>
        <div class="form-group" ng-class="{'has-error': 
                signupForm.last_name.$error.required &&
                !signupForm.last_name.$pristine}">
            <label for="last_name" class="col-sm-2 control-label">Last Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="last_name" id="last_name" placeholder="Enter Last Name"
                       ng-model="signupCtrl.last_name" required/>
                <span ng-if="signupForm.last_name.$error.required && !signupForm.last_name.$pristine" class="help-block">Your Last Name is required</span>
            </div>
        </div>
        <div class="form-group" ng-class="{'has-error': 
                (signupForm.email.$error.required || signupForm.email.$error.email) &&
                !signupForm.email.$pristine}">
            <label for="email" class="col-sm-2 control-label">email</label>
            <div class="col-sm-10">
                <input type="email" class="form-control" name="email" id="email" placeholder="Enter E-Mail"
                       ng-model="signupCtrl.email" required>
                <span ng-if="signupForm.email.$error.required && !signupForm.email.$pristine" class="help-block">E-mail address is required</span>
                <span ng-if="signupForm.email.$error.email && !signupForm.email.$pristine" class="help-block">Enter a valid email address</span>
            </div>
        </div>
        <div class="form-group" ng-class=" {'has-error':
                signupForm.phone_number.$error.required &&
                !signupForm.phone_number.$pristine}">
            <label for="phone_number" class="col-sm-2 control-label">Phone Number</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="phone_number" id="phone_number" placeholder="Enter Phone Number"
                       ng-model="signupCtrl.phone_number" required/>
                <span ng-if="signupForm.phone_number.$error.required && !signupForm.phone_number.$pristine" class="help-block">Phone number is required</span>
            </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error': 
                (!signupCtrl.favoriteDishObj &&
                !signupForm.favorite_dish.$pristine) || 
                (signupCtrl.favoriteDishObj.short_name !== signupCtrl.favoriteDish)
            }">
            <label for="favorite_dish" class="col-sm-2 control-label">Favorite Dish</label>
            <div class="col-sm-4">
                <input type="text" class="form-control" name="favorite_dish" id="favorite_dish" placeholder="Favorite Dish (short name)" 
                ng-model="signupCtrl.favoriteDish" required/>
                <span ng-if="(!signupCtrl.favoriteDishObj && !signupForm.favorite_dish.$pristine) || 
                (signupCtrl.favoriteDishObj.short_name !== signupCtrl.favoriteDish)"
                    class="help-block">Dish not found</span>
            </div>
                <span ng-if="signupCtrl.favoriteDishObj.short_name === signupCtrl.favoriteDish">{{ signupCtrl.favoriteDishObj.name }}</span>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-warning" 
                    ng-click="signupCtrl.signUpUser();"
                    ng-disabled="signupForm.$invalid || !signupCtrl.favoriteDishObj || signupCtrl.favoriteDishObj.short_name !== signupCtrl.favoriteDish">sign up</button>
            </div>
        </div>
    </form>

    </div>
</div>
<div class="row row-content" ng-if="signupCtrl.getCurrentUser().email">
    <div class="col-xs-12">
        <h1>You are signed up!!!</h1>
        <br/>
    </div>
</div>
